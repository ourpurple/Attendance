# 使用手册

考勤与请假管理系统用户操作指南。

## 系统简介

考勤与请假管理系统支持移动端网页和微信小程序两种访问方式，提供考勤打卡、请假申请、加班申请、审批管理等功能。

### 访问方式

- **移动端网页**：https://oa.ruoshui-edu.cn
- **微信小程序**：在微信中搜索并打开小程序

## 登录说明

### 登录步骤

1. 打开系统（移动端网页或微信小程序）
2. 输入用户名和密码
3. 点击"登录"按钮

### 修改密码

1. 登录后，点击右上角头像
2. 选择"修改密码"
3. 输入旧密码和新密码
4. 点击"确定"保存

## 员工使用指南

### 考勤打卡

#### 上班打卡

1. 打开系统首页
2. 点击"上班打卡"按钮
3. 系统自动获取位置信息
4. 打卡成功后，按钮变为灰色

**注意事项：**
- 打卡时间根据公司规定（如：09:00）
- 需要允许浏览器/小程序获取位置权限
- 超过上班时间会提示迟到确认
- 周末和法定节假日无法打卡

#### 下班打卡

1. 打开系统首页
2. 点击"下班打卡"按钮
3. 系统自动获取位置信息
4. 打卡成功后，按钮变为灰色

**注意事项：**
- 必须先完成上班打卡
- 早于下班时间会提示早退确认

#### 查看打卡记录

1. 在首页向下滑动，查看"最近考勤"区域
2. 点击"考勤记录"标签，查看详细记录
3. 可以按月份筛选查看历史记录

### 请假申请

#### 提交请假申请

1. 在首页点击"请假申请"图标，或点击"请假"标签
2. 点击右上角"+ 申请请假"按钮
3. 填写请假信息：
   - 开始日期、结束日期
   - 请假天数（系统自动计算，支持半天，如：0.5、1.5）
   - 请假原因（必填）
4. 点击"提交"按钮

**审批流程：**
- **1天以内**：部门主任审批 → 完成
- **1-3天（含3天）**：部门主任审批 → 副总审批 → 完成
- **3天以上**：部门主任审批 → 副总审批 → 总经理审批 → 完成

#### 查看请假记录

1. 在"请假"标签页查看所有请假记录
2. 每条记录显示：请假日期范围、天数、原因、审批状态、待审批人

**状态说明：**
- **待审批**：申请已提交，等待审批
- **已批准**：所有审批人已批准，请假生效
- **已拒绝**：审批被拒绝，请假无效
- **已撤回**：您主动撤回了申请

#### 撤回请假申请

1. 在请假列表中，找到状态为"待审批"的记录
2. 点击"撤回申请"按钮
3. 确认撤回

**注意：** 只有"待审批"状态的申请可以撤回，已批准或已拒绝的无法撤回。

### 加班申请

#### 提交加班申请

1. 在首页点击"加班申请"图标，或点击"加班"标签
2. 点击右上角"+ 申请加班"按钮
3. 填写加班信息：
   - 开始时间、结束时间
   - 加班天数（系统自动计算）
     - 半天 = 0.5 天
     - 整天 = 1 天
     - 自定义 = x.5 天（如：1.5、2.5）
   - 加班原因（必填）
4. 点击"提交"按钮

**审批流程：** 员工加班申请 → 部门主任审批 → 完成

#### 查看和撤回

操作方式与请假申请相同。

### 统计分析

1. 在首页点击"统计分析"图标，或点击"统计"标签
2. 选择要查看的月份
3. 查看统计数据：
   - 出勤天数、工作时长
   - 迟到次数、早退次数
   - 请假天数、加班天数

## 审批人使用指南

### 部门主任

#### 审批功能入口

1. 登录系统后，在首页可以看到"我的审批"图标（如有待审批事项，会显示红色数字徽章）
2. 点击"我的审批"图标，进入审批页面

#### 审批请假申请

1. 进入"我的审批"页面，默认显示"请假"标签页
2. 查看待审批的请假申请列表
3. 点击要审批的申请，查看详情
4. 点击"批准"或"拒绝"按钮
   - **批准**：可输入批准意见（可选）
   - **拒绝**：必须输入拒绝理由（必填）

**注意事项：**
- 部门主任只能审批本部门员工的请假申请
- 审批后，系统会自动流转到下一级审批人（如需要）

#### 审批加班申请

操作方式与审批请假相同，在"加班"标签页中操作。

### 副总

#### 审批范围

- 可以审批分配给自己的请假/加班申请
- 可以审批分管部门的员工申请
- 可以审批自己的申请（默认本人审批，可指定其他副总）

#### 提交申请

副总提交请假/加班申请时，可以手动指定审批人：
- 默认是"本人审批"
- 可选择其他副总审批

**审批流程：**
- **请假3天以内（含3天）**：副总审批 → 完成
- **请假3天以上**：副总审批 → 总经理审批 → 完成
- **加班**：副总审批 → 完成

### 总经理

#### 审批范围

- 可以审批所有需要总经理审批的请假申请（请假天数 > 3天）
- 可以审批所有加班申请
- 可以审批自己的申请

#### 提交申请

总经理提交请假/加班申请时，系统默认由总经理本人直接审批，申请提交后立即完成审批。

## 系统管理员使用指南

系统管理员拥有最高管理权限，可以通过管理后台进行全面的系统管理。管理后台只能在电脑浏览器中访问。

### 登录管理后台

1. 在电脑浏览器中访问管理后台地址（如：`https://oa.ruoshui-edu.cn/admin`）
2. 输入管理员用户名和密码
3. 点击"登录"按钮

**默认管理员账号：**
- 用户名：`admin`
- 密码：`admin123`

**⚠️ 重要：首次登录后请立即修改密码！**

### 主要功能

#### 用户管理

- **添加用户**：填写用户信息、设置角色和部门、设置初始密码
- **编辑用户**：修改用户信息、角色、部门、状态
- **删除用户**：删除用户（如有考勤记录，系统会保护，无法删除）
- **重置密码**：编辑用户信息时修改密码

#### 部门管理

- **添加部门**：创建新部门，设置部门主任
- **编辑部门**：修改部门信息、部门主任
- **删除部门**：删除部门（需先转移部门员工）

#### 分管关系管理

- **添加分管关系**：设置副总与部门的分管关系
- **编辑/删除**：修改或删除分管关系

#### 考勤记录查看

- 选择查询方式（按月或自定义日期）
- 选择员工（可选）
- 查看详细的考勤记录

#### 请假/加班管理

- 查看所有请假/加班申请
- 查看申请详情和审批记录
- **注意：** 管理员可以查看所有记录，但不能直接审批

#### 策略管理（打卡策略）

- **查看策略**：查看所有打卡策略
- **添加策略**：配置上下班时间、打卡时段、迟到早退阈值
- **编辑策略**：修改策略信息
- **删除策略**：删除策略（需确保有其他策略可用）

#### 节假日配置

- **查看节假日**：查看已配置的节假日
- **添加节假日**：
  - **休息日（法定节假日）**：节假日期间禁用打卡
  - **调休工作日（周末上班）**：周末但需要上班的日期
- **编辑/删除**：修改或删除节假日

**注意：** 系统已预置2025年全年法定节假日数据。

#### 统计分析

1. 选择统计方式（按月或自定义日期）
2. 点击"查询"按钮
3. 查看各标签页：
   - **总统计**：总员工数、出勤率、总请假天数、总加班天数
   - **出勤统计**：员工考勤数据（应出勤、实际出勤、迟到、早退、缺勤、工时）
   - **请假统计**：请假天数、次数、占比分析
   - **加班统计**：加班天数、次数统计

### 管理员操作注意事项

1. **数据安全**：谨慎删除，不确定时先禁用用户
2. **权限管理**：正确分配用户角色和部门，确保审批流程正常
3. **系统配置**：根据公司实际情况配置打卡时间和节假日
4. **数据维护**：定期查看统计数据，定期备份数据库

## 常见问题

**Q1: 忘记密码怎么办？**  
A: 请联系系统管理员重置密码。

**Q2: 打卡时提示"无法获取位置"？**  
A: 检查浏览器/小程序的定位权限，确保手机GPS已开启，尝试在室外或信号较好的地方打卡。

**Q3: 为什么周末无法打卡？**  
A: 系统自动识别周末和法定节假日。如果周末需要上班（调休工作日），系统管理员会提前配置。

**Q4: 请假申请提交后可以修改吗？**  
A: 不可以直接修改。如果申请还在"待审批"状态，可以撤回申请后重新提交。

**Q5: 如何查看审批进度？**  
A: 在请假/加班列表中，点击申请记录可以查看详情，包括当前审批状态、待审批人、已审批人的意见和时间。

**Q6: 审批时可以不填写意见吗？**  
A: 批准可以不填写意见（可选），拒绝必须填写拒绝理由（必填）。

**Q7: 为什么看不到"我的审批"功能？**  
A: "我的审批"功能只对部门主任、副总、总经理开放。普通员工没有审批权限。

**Q8: 打卡后按钮还是可以点击？**  
A: 打卡成功后，页面会自动刷新。如果按钮仍然可点击，请手动刷新页面或检查网络连接。

**Q9: 如何查看历史考勤记录？**  
A: 在首页点击"考勤记录"标签，选择要查看的月份。

**Q10: 请假天数如何计算？**  
A: 系统会根据开始日期和结束日期自动计算，支持半天请假（如：0.5天、1.5天），可以手动调整天数。

## 审批流程

### 请假审批流程

```
员工/部门主任请假：
├─ 1天以内 → 部门主任审批 → 完成
├─ 1-3天（含3天） → 部门主任审批 → 副总审批 → 完成
└─ 3天以上 → 部门主任审批 → 副总审批 → 总经理审批 → 完成

副总请假：
├─ 3天以内（含3天） → 副总审批（默认本人，可指定其他副总）→ 完成
└─ 3天以上 → 副总审批（默认本人，可指定其他副总）→ 总经理审批 → 完成

总经理请假：
└─ 总经理本人审批 → 完成
```

### 加班审批流程

```
员工/部门主任加班：
└─ 部门主任审批 → 完成

副总加班：
└─ 副总审批（默认本人，可指定其他副总）→ 完成

总经理加班：
└─ 总经理本人审批 → 完成
```

---

**最后更新**: 2025-01-16  
**版本**: 1.0.0

如有疑问，请联系系统管理员。
